<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">


<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>news--Post Message</title>
<meta name="FORMATTER" content="Microsoft FrontPage 2.0">
</head>

<body bgcolor=white>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>电子报新闻和重要文章</title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body bgcolor="#FFFFFF">
<style type="text/css">
<!--
.linktop{font-size:9pt}
.linktop a{color: #000000; font-style: normal; text-decoration: none; cursor: hand}
.linktop a:visited {color: rgb(0,0,0); font-style: normal; text-decoration: none}
.linktop a:active  {color:  rgb(100,0,0); font-style: normal; text-decoration: none}
.linktop a:hover {color: rgb(255,255,255); font-style:bold; text-decoration: none}	 
-->
</style>

<div align="center"><center>

<table border="0" width="700" cellspacing="0" cellpadding="0">
  <tr>
    <td width="700" align="center"><a href="/index.asp"><img src="/images/dzblogo.gif" width="228" height="60" border="0"></a><img src="/IMAGES1/kantou1.JPG" border="0" width="279" height="60"><a href="/pav/index.asp"><img src="/IMAGES1/kantou2.jpg" border="0"width="184" height="60"></a></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="700" cellpadding="4" height="25">
  <tr>
    <td height="11" align="center" bgcolor="#12BEC2" width="77"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/about/aboutus.asp" target="_top">关于我们</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="#" target="_top">联系方式</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/zhongyao/zywz.asp" target="_top">电子报网络版</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/bbs/bbs.asp" target="_top">BBS</a></span></td>
   <!--
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/QuestionAnswer/question/index.htm" target="_top">专家热线</a></span></td>
   -->
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/shudian/shudian.asp" target="_top">网上书店</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/weixiu/wxzlk.asp" target="_top">电子报刊检索</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/pav/index.asp" target="_top">实用影音技术</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/jiaoliu/jiaoliu.asp" target="_top">个人链接</a></span></td>
  </tr>
</table>
</center></div>
<div align="center"><center>

<div align="center"><center><table border="0" width="650" cellspacing="1" cellpadding="2">
      <tr>
        <td width="100%" valign="top" bgcolor="#DDDDDD"><span style="font-family:宋体;font-size: 9pt"><b><p align="center">新闻和重要文章</b></span></td>
      </tr>
      <tr>
        <td width="100%" valign="top"><span style="font-family:宋体;font-size: 14px">


<strong><BR><p align="center">
<font color="darkblue">单片机构成的精确测距系统</strong></font><br>
2002年,第11期,类别:智能电子<br></p>

		<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;实际工作中常常需要自动测量两点间的距离，如液面的高度、机动车倒车时与障碍物间的距离等等。在这类距离的测量中，一点是可达到的，另一点则是不可到达的。因此，测量时，从可到达的一点发射一定频率的信号波，经不可到达的一点反射回来，由接收电路接收回波信号。单片机准确计算信号在两点间传播所用的时间，再根据发射波的传播速度，计算出两点间的距离。<br>
&nbsp;&nbsp;&nbsp;&nbsp;设计电路时，首先分析测量的对象，选择合适的信号波发射器（如发射声波、红外线、超声波等）。若所选信号波传播速度较慢，可通过单片机对发射波与回波的查询或由发射波与回波触发中断，开关定时器完成计时功能。当波的传播速度很快时（如超声波），测出的误差很大。原因在于：其一，不管是查询发射波与回波，还是由之触发单片机中断再通过软件启停定时器均需要一定的时间（中断的方式误差相对要小）；其二，相对而言，单片机的时间分辨率不是太高，如晶振频率为１２ＭＨｚ，则时间分辨率为１μｓ。<br>
&nbsp;&nbsp;&nbsp;&nbsp;引入专用的定时／计数器８２５４进行计时，可大大提高测距系统的精确性。８２５４的每个定时器都有一个ＧＡＴＥ门控信号，可用发射波与回波直接启停８２５４，而不必把发射波与回波接至单片机，通过中断或查询再发出定时器启停信号。同时，８２５４具有更高的工作频率，时间的分辨率更高，如输入４ＭＨｚ的工作频率，时间分辨率为０．２５μｓ。<br>
&nbsp;&nbsp;&nbsp;&nbsp;一、硬件结构<br>
&nbsp;&nbsp;&nbsp;&nbsp;电路如附图。图中８２５４的地址为７ＣＨ（０＃定时器）、７ＤＨ（１＃定时器）、７ＥＨ（２＃定时器））、７ＦＨ（控制口），其工作频率ＣＬＫ０由外部电路提供４ＭＨｚ的脉冲信号（该信号为计时的基准信号，频率要求精确，可用４０６０等分频器实现）。受发射波与回波控制的ＪＫ触发器的输出作为８２５４ ０＃定时器的门控信号ＧＡＴＥ０，回波信号同时作为单片机ＩＮＴ０的中断响应信号。初始化时，由单片机的Ｐ１．０口控制ＪＫ触发器的初态为０，８２５４的Ｔ０不计时；发射波产生后，ＪＫ触发器翻转，Ｔ０开始工作，计数初值不断减１；收到回波信号后，ＪＫ触发器再次翻转，８２５３的Ｔ０停止工作，同时触发单片机中断，在中断服务程序中读出时标（计数初值中所剩余的值），然后由数据处理子程序计算出距离。若增加ＬＥＤ显示电路，则可将测出的距离显示出来。<br>
&nbsp;&nbsp;&nbsp;&nbsp;如果波的来回传播时间超过了８２５４一次计时的最大范围，可将其定时器的ＯＵＴ引脚接至单片机的ＩＮＴ１，由中断累加计时。<br>
&nbsp;&nbsp;&nbsp;&nbsp;二、软件编程<br>
&nbsp;&nbsp;&nbsp;&nbsp;主要程序清单如下：<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＯＲＧ ００００Ｈ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＡＪＭＰ ＳＴＡＲＴ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＯＲＧ ０００３Ｈ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＡＪＭＰ ＷＢＺＤ<br>
ＳＴＡＲＴ：ＣＬＲ Ｐ１．０；ＪＫ触发器初态置０<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ｒ０，＃７ＦＨ；８２５４工作方式：Ｔ０方式０，１６位<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ａ，＃００１１００００<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ＠Ｒ０，Ａ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ｒ０，＃７ＣＨ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ａ，＃０ＦＦＨ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ＠Ｒ０，Ａ；置Ｔ０计数初值低８位<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ＠Ｒ０，Ａ；置Ｔ０计数初值高８位（最大范围）<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＳＥＴＢ ＩＴ０；/ＩＮＴＯ下跳沿触发<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＳＥＴＢ ＥＡ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＳＥＴＢ ＥＸ０；开/ＩＮＴ０中断<br>
ＴＡＢ：&nbsp;&nbsp;&nbsp;&nbsp;ＡＣＡＬＬ&nbsp;&nbsp;；数据处理子程序<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＡＣＡＬＬ&nbsp;&nbsp;；键盘处理子程序<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＡＪＭＰ ＴＡＢ<br>
ＷＢＺＤ：&nbsp;&nbsp;ＭＯＶ Ｒ０，＃７ＣＨ；中断服务子程序<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ａ，＠Ｒ０<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ２０Ｈ，Ａ；读出低８位时标送２０Ｈ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ａ，＠Ｒ０<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ２１Ｈ，Ａ；读出高８位时标送２１Ｈ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ａ，＃０ＦＦＨ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ＠Ｒ０，Ａ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ＠Ｒ０，Ａ；重装计数初值<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＣＬＲ Ｐ１．０；ＪＫ触发器初态置０<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＲＥＴＩ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＥＮＤ<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;南昌&nbsp;&nbsp;李春玲<br>
        <br>
         <a href="" target="_blank"> </a><br>
        <br>
        <img src="\dzbimg\2002\11\l2.jpg">　</font>
</span></td>
      </tr>
    </table>
    </center></div>
</body>
</html>
