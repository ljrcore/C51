<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">


<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>news--Post Message</title>
<meta name="FORMATTER" content="Microsoft FrontPage 2.0">
</head>

<body bgcolor=white>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>电子报新闻和重要文章</title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body bgcolor="#FFFFFF">
<style type="text/css">
<!--
.linktop{font-size:9pt}
.linktop a{color: #000000; font-style: normal; text-decoration: none; cursor: hand}
.linktop a:visited {color: rgb(0,0,0); font-style: normal; text-decoration: none}
.linktop a:active  {color:  rgb(100,0,0); font-style: normal; text-decoration: none}
.linktop a:hover {color: rgb(255,255,255); font-style:bold; text-decoration: none}	 
-->
</style>

<div align="center"><center>

<table border="0" width="700" cellspacing="0" cellpadding="0">
  <tr>
    <td width="700" align="center"><a href="/index.asp"><img src="/images/dzblogo.gif" width="228" height="60" border="0"></a><img src="/IMAGES1/kantou1.JPG" border="0" width="279" height="60"><a href="/pav/index.asp"><img src="/IMAGES1/kantou2.jpg" border="0"width="184" height="60"></a></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="700" cellpadding="4" height="25">
  <tr>
    <td height="11" align="center" bgcolor="#12BEC2" width="77"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/about/aboutus.asp" target="_top">关于我们</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="#" target="_top">联系方式</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/zhongyao/zywz.asp" target="_top">电子报网络版</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/bbs/bbs.asp" target="_top">BBS</a></span></td>
   <!--
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/QuestionAnswer/question/index.htm" target="_top">专家热线</a></span></td>
   -->
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/shudian/shudian.asp" target="_top">网上书店</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/weixiu/wxzlk.asp" target="_top">电子报刊检索</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/pav/index.asp" target="_top">实用影音技术</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/jiaoliu/jiaoliu.asp" target="_top">个人链接</a></span></td>
  </tr>
</table>
</center></div>
<div align="center"><center>

<div align="center"><center><table border="0" width="650" cellspacing="1" cellpadding="2">
      <tr>
        <td width="100%" valign="top" bgcolor="#DDDDDD"><span style="font-family:宋体;font-size: 9pt"><b><p align="center">新闻和重要文章</b></span></td>
      </tr>
      <tr>
        <td width="100%" valign="top"><span style="font-family:宋体;font-size: 14px">


<strong><BR><p align="center">
<font color="darkblue">移位寄存器的串行扩展技术<br>
ＣＤ４０９４在单片机系统显示中的应用</strong></font><br>
2001年,第37期,类别:单片机应用<br></p>

		<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;编者按：移位寄存器的串行扩展技术是单片机串行口扩展的一种常用方法。对于ＭＣＳ－５１系列单片机而言，将串口置为工作方式０，串口便工作在移位寄存器方式下了。此时，单片机的ＲＸＤ口作串行数据的发送／接收口，ＴＸＤ口作移位脉冲输出口。利用单片机串口的这一特性，可以十分方便地扩展Ｉ／Ｏ口线，本文便是一例。通过本例，读者除了可以加深对串口工作方式０的理解外，还可以举一反三，将之用于其他需要进行Ｉ／Ｏ口扩展的场合，比如用串口扩展键盘等。<br>
遥控数码报时闹钟<br>
&nbsp;&nbsp;&nbsp;&nbsp;ＣＤ４０９４是带输出锁存和三态控制的串入／并出高速转换器，具有使用简单、功耗低、驱动能力强和控制灵活等优点。<br>
　　ＣＤ４０９４的引脚定义如图１。其中{1}脚为锁存端，{2}脚为串行数据输入端，{3}脚为串行时钟端。{1}脚为高电平时，８位并行输出口Ｑ１～Ｑ８在时钟的上升沿随串行输入而变化；{1}脚为低电平时，输出锁定。利用锁存端可方便地进行片选和级联输出控制。{15}脚为并行输出状态控制端，{15}脚为低电平时，并行输出端处在高阻状态，在用ＣＤ４０９４作显示输出时，可使显示数码闪烁。{9}脚ＱＳ、{10}脚Ｑ′Ｓ是串行数据输出端，用于级联。ＱＳ端在第９个串行时钟的上升沿开始输出，Ｑ′Ｓ端在第９个串行时钟的下降沿开始输出。<br>
&nbsp;&nbsp;&nbsp;&nbsp;当ＣＤ４０９４电源为５ Ｖ时，输出电流大于３．２ｍＡ，灌电流为１ ｍＡ。串行时钟频率可达２．５ＭＨｚ。<br>
&nbsp;&nbsp;&nbsp;&nbsp;１． ＣＤ４０９４作静态ＬＥＤ显示驱动器<br>
　　图２为用ＣＤ４０９４作驱动器的三位数码管静态显示电路略图。单片机串口工作在方式０，即移位寄存器方式。输出数据首先送到ＩＣ１，第二次输出的数据移至ＩＣ１时，先前输出数据则移到ＩＣ２，依此类推。输出三次后，在ＩＣ１、ＩＣ２、ＩＣ３的Ｑ１～Ｑ８口分别得到数据３、数据２、数据１。<br>
　　程序如下：（ＤＩＳＰ为显示子程序）<br>
&nbsp;&nbsp;&nbsp;．．．．．．．．．．．．．．．．．．<br>
 　 ＭＯＶ ＳＣＯＮ，＃００Ｈ&nbsp;&nbsp;；置串口为方式０<br>
&nbsp;&nbsp;&nbsp;．．．．．．．．．．．．．．．．．．<br>
ＤＩＳＰ： ＣＬＲ&nbsp;&nbsp;&nbsp;&nbsp;Ｐ３．７&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；输出锁存<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ｒ０，＃３３Ｈ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；显示值送３３Ｈ、３４Ｈ、３５Ｈ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ｒ７，＃０３Ｈ　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；置数码管个数３<br>
ＬＰ：ＭＯＶ Ａ，＠Ｒ０&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＤＰＴＲ，＃ＴＡＢ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；置字段码表首址<br>
　　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶＣ Ａ，＠Ａ＋ＤＰＴＲ ；查字段码表<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ＳＢＵＦ，Ａ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；送字段码<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＪＮＢ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＴＩ，$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；等待传送结束<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＣＬＲ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＴＩ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；清串行中断标志<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＩＮＣ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ｒ０&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；显缓区地址加１<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＤＪＮＺ Ｒ７，ＬＰ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；显示数码是否取完？<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＳＥＴＢ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ｐ３．７&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；允许输出显示&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＮＯＰ <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＣＬＲ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ｐ３．７&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；输出锁存<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＲＥＴ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
ＴＡＢ：ＤＢ ３ＦＨ，０６Ｈ，５ＢＨ，４ＦＨ，６６Ｈ，６ＤＨ，７ＤＨ，０７Ｈ，７ＦＨ<br>
　&nbsp;&nbsp;&nbsp;&nbsp;ＤＢ ６ＦＨ，００Ｈ <br>
　　说明：在串行口不作为其他使用，且显示的更新速度很低时，ＳＴＲＯＢＥ端可以始终接高；也可将Ｐ３．７口接到ＣＤ４０９４的{15}脚，从Ｐ３．７口输出一定频率的脉冲，使显示闪烁。<br>
&nbsp;&nbsp;&nbsp;&nbsp;２． ＣＤ４０９４作ＬＥＤ动态显示驱动器<br>
&nbsp;&nbsp;&nbsp;&nbsp;用一片ＣＤ４０９４作段驱动，一片ＣＤ４０９４作位驱动，驱动８位带小数点的数码管（见图３）。<br>
&nbsp;&nbsp;&nbsp;&nbsp;程序如下：（ＤＩＳＰ为显示子程序）<br>
&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ ＳＣＯＮ＃００Ｈ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；置串口为方式０<br>
&nbsp;&nbsp;&nbsp;&nbsp;……<br>
ＤＩＳＰ：ＣＬＲ&nbsp;&nbsp;&nbsp;&nbsp;Ｐ３．７　　　　　　&nbsp;&nbsp;；输出锁存<br>
　　　　&nbsp;&nbsp;ＭＯＶ Ｒ０，&nbsp;&nbsp;＃３０Ｈ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；显缓区首址送Ｒ０<br>
　　　　&nbsp;&nbsp;ＭＯＶ&nbsp;&nbsp;&nbsp;&nbsp;Ｒ４，&nbsp;&nbsp;＃０８Ｈ　&nbsp;&nbsp;&nbsp;&nbsp;；置数码管个数为８<br>
　　　　&nbsp;&nbsp;ＭＯＶ Ｒ５，&nbsp;&nbsp;＃０ＦＥＨ　　；送位码初值<br>
ＬＰ： 　&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ａ， Ｒ５　　　　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；取位码<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＳＢＵＦ， Ａ　　&nbsp;&nbsp;&nbsp;&nbsp;；送位码<br>
　　　　&nbsp;&nbsp;ＪＮＢ&nbsp;&nbsp;&nbsp;&nbsp;Ｔ１　　　　　　　　&nbsp;&nbsp;；等待传送结束<br>
　　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＣＬＲ&nbsp;&nbsp;&nbsp;&nbsp;Ｔ１　　　　　　　　&nbsp;&nbsp;；清串行中断标志<br>
　　　　&nbsp;&nbsp;ＭＯＶ&nbsp;&nbsp;&nbsp;&nbsp;Ａ， ＠Ｒ０　　　&nbsp;&nbsp;&nbsp;；取段码<br>
　　　　&nbsp;&nbsp;ＭＯＶ ＤＰＴＲ， ＃ＴＡＢ&nbsp;&nbsp;&nbsp;；置段码表首址<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶＣ Ａ， ＠Ａ＋ＤＰＴＲ ；查段码表<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＳＢＵＦ，Ａ　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；送段码<br>
　　　&nbsp;&nbsp;&nbsp;&nbsp;ＪＮＢ&nbsp;&nbsp;&nbsp;&nbsp;Ｔ１　&nbsp;&nbsp;&nbsp;&nbsp;　　　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；等待传送结束<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＣＬＲ&nbsp;&nbsp;&nbsp;&nbsp;Ｔ１　&nbsp;&nbsp;&nbsp;　　　　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；清串行中断标志<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＳＴＢ&nbsp;&nbsp;&nbsp;&nbsp;Ｐ３．７　&nbsp;&nbsp;　　　&nbsp;&nbsp;&nbsp;&nbsp;；允许输出显示<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＬＣＡＬＬ ＤＥＬ　　　&nbsp;&nbsp;　&nbsp;&nbsp;；延时１ｍｓ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ａ，&nbsp;&nbsp;Ｒ５　　　 　　 ；取位码<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＲＬ&nbsp;&nbsp;&nbsp;&nbsp;Ａ　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;　　　　　&nbsp;&nbsp;&nbsp;；位码左移一位<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＭＯＶ Ｒ５，&nbsp;&nbsp;Ａ<br>
　　　　　ＩＮＣ&nbsp;&nbsp;&nbsp;&nbsp;Ｒ０　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；显缓区地址加１<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＣＬＲ&nbsp;&nbsp;&nbsp;&nbsp;Ｐ３．７　 　　　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；输出锁存<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＤＪＮＺ Ｒ４， ＬＰ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;；８位显示完否？<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＲＥＴ<br>
ＤＥＬ：&nbsp;&nbsp;ＭＯＶ Ｒ７， ＃０２Ｈ　　&nbsp;&nbsp;&nbsp;；延时１ｍｓ&nbsp;&nbsp;（ｆosc＝１２ＭＨｚ）<br>
ＤＬ：　&nbsp;&nbsp;ＭＯＶ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ｒ６，＃０Ｆ８Ｈ<br>
　　　　　ＤＪＮＺ Ｒ６， $<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＤＪＮＺ Ｒ７， ＤＬ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＲＥＴ<br>
ＴＡＢ：　ＤＢ ３ＦＨ，０６Ｈ，５ＢＨ，４ＦＨ，６６Ｈ，６ＤＨ，７ＤＨ，０７Ｈ<br>
　&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ＤＢ ７ＦＨ，６ＦＨ<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;辽宁&nbsp;&nbsp;缴瑞山&nbsp;&nbsp;许连阁<br>
        <br>
         <a href="" target="_blank"> </a><br>
        <br>
        <img src="\dzbimg\2001\37\l2.jpg">　<img src="\dzbimg\2001\37\l3.jpg">　</font>
</span></td>
      </tr>
    </table>
    </center></div>
</body>
</html>
