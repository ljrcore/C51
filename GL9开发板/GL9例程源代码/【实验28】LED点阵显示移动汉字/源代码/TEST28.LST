C51 COMPILER V7.00  TEST28                                                                 12/19/2012 07:54:46 PAGE 1   


C51 COMPILER V7.00, COMPILATION OF MODULE TEST28
OBJECT MODULE PLACED IN TEST28.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE TEST28.c BROWSE DEBUG OBJECTEXTEND

stmt level    source

   1          ////////////////////////////////////////////////////////////////////////////
   2          //                给力者单片机开发学习系统，开发学习都给力！              //
   3          ////////////////////////////////////////////////////////////////////////////
   4          //                     学习51单片机，其实可以很简单                       //
   5          ////////////////////////////////////////////////////////////////////////////
   6          //                宁波芯动电子有限公司  www.MovingChip.com                //
   7          ////////////////////////////////////////////////////////////////////////////
   8          
   9          #include <AT89X52.h>       //调用51单片机的头文件
  10          
  11          //---------------------------------------
  12          //"宁波芯动电子有限公司"10个字的字形表的上半屏，供显示时查询
  13          unsigned char code han1[]=
  14          {                          //定义表格一定要使用code，这样会做到程序存储区中
  15          
  16          /*--  文字:  因为移动汉字，所以首尾都填充一些0 --*/
  17          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  18          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  19          
  20          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  21          
  22          /*--  文字:  宁  --*/
  23          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  24          0x00,0x09,0x31,0x21,0x21,0x21,0xA1,0x61,0x21,0x21,0x21,0x21,0x29,0x71,0x20,0x00,
  25          
  26          /*--  文字:  波  --*/
  27          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  28          0x08,0x06,0x80,0x67,0x00,0x1F,0x11,0x11,0x11,0xFF,0x11,0x11,0x11,0x18,0x10,0x00,
  29          
  30          /*--  文字:  芯  --*/
  31          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  32          0x00,0x20,0x20,0x20,0x21,0xF8,0x24,0x23,0x21,0x20,0xF8,0x21,0x20,0x20,0x20,0x00,
  33          
  34          /*--  文字:  动  --*/
  35          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  36          0x04,0x24,0x24,0x27,0x24,0x24,0x24,0x04,0x08,0x08,0xFF,0x08,0x08,0x0F,0x00,0x00,
  37          
  38          /*--  文字:  电  --*/
  39          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  40          0x00,0x00,0x1F,0x12,0x12,0x12,0x12,0xFF,0x12,0x12,0x12,0x12,0x1F,0x00,0x00,0x00,
  41          
  42          /*--  文字:  子  --*/
  43          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  44          0x00,0x00,0x40,0x40,0x40,0x40,0x40,0x47,0x48,0x50,0x60,0x40,0x00,0x01,0x00,0x00,
  45          
  46          /*--  文字:  有  --*/
  47          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  48          0x00,0x20,0x21,0x22,0x27,0x2C,0x34,0xE4,0x24,0x24,0x24,0x27,0x20,0x20,0x20,0x00,
  49          
  50          /*--  文字:  限  --*/
  51          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  52          0x7F,0x40,0x4C,0x72,0x41,0x00,0x7F,0x52,0x53,0x52,0x52,0x52,0x7E,0x00,0x00,0x00,
  53          
  54          /*--  文字:  公  --*/
  55          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
C51 COMPILER V7.00  TEST28                                                                 12/19/2012 07:54:46 PAGE 2   

  56          0x00,0x00,0x01,0x02,0x0C,0x70,0x21,0x00,0x00,0x70,0x08,0x06,0x03,0x01,0x01,0x00,
  57          
  58          /*--  文字:  司  --*/
  59          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  60          0x00,0x08,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x48,0x40,0x40,0x7F,0x00,0x00,
  61          
  62          /*--  文字:  因为移动汉字，所以首尾都填充一些0 --*/
  63          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  64          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  65          
  66          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  67          
  68          };
  69          
  70          //---------------------------------------
  71          //"宁波芯动电子有限公司"10个字的字形表的下半屏，供显示时查询
  72          unsigned char code han2[]=
  73          {                          //定义表格一定要使用code，这样会做到程序存储区中
  74          
  75          /*--  文字:  因为移动汉字，所以首尾都填充一些0 --*/
  76          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  77          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  78          
  79          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  80          
  81          /*--  文字:  宁  --*/
  82          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  83          0x00,0x00,0x00,0x00,0x00,0x02,0x01,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  84          
  85          /*--  文字:  波  --*/
  86          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  87          0x20,0x20,0xFF,0x02,0x0C,0xF1,0x01,0x82,0x64,0x18,0x18,0x64,0x86,0x03,0x02,0x00,
  88          
  89          /*--  文字:  芯  --*/
  90          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  91          0x08,0x70,0x00,0x00,0xFC,0x02,0x02,0x02,0xC2,0x02,0x02,0x1E,0x84,0x70,0x20,0x00,
  92          
  93          /*--  文字:  动  --*/
  94          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  95          0x10,0x38,0xD0,0x10,0x30,0xA0,0x72,0x24,0x08,0x30,0xC0,0x04,0x02,0xFC,0x00,0x00,
  96          
  97          /*--  文字:  电  --*/
  98          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
  99          0x00,0x00,0xF0,0x20,0x20,0x20,0x20,0xFC,0x22,0x22,0x22,0x22,0xF2,0x02,0x0E,0x00,
 100          
 101          /*--  文字:  子  --*/
 102          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
 103          0x80,0x80,0x80,0x80,0x80,0x82,0x81,0xFE,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,
 104          
 105          /*--  文字:  有  --*/
 106          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
 107          0x40,0x80,0x00,0x00,0xFF,0x90,0x90,0x90,0x94,0x92,0x93,0xFE,0x00,0x00,0x00,0x00,
 108          
 109          /*--  文字:  限  --*/
 110          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
 111          0xFF,0x00,0x40,0x20,0xC0,0x00,0xFF,0x02,0x04,0xC0,0x30,0x48,0x84,0x06,0x04,0x00,
 112          
 113          /*--  文字:  公  --*/
 114          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
 115          0x00,0x80,0x04,0x0E,0x14,0x24,0xC4,0x8C,0x08,0x08,0x28,0x1E,0x0C,0x80,0x00,0x00,
 116          
 117          /*--  文字:  司  --*/
C51 COMPILER V7.00  TEST28                                                                 12/19/2012 07:54:46 PAGE 3   

 118          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
 119          0x00,0x00,0xF8,0x20,0x20,0x20,0x20,0x20,0x20,0xF0,0x00,0x04,0x02,0xFC,0x00,0x00,
 120          
 121          /*--  文字:  因为移动汉字，所以首尾都填充一些0 --*/
 122          /*--  Trebuchet MS12;  此字体下对应的点阵为：宽x高=16x16   --*/
 123          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 124          
 125          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 126          
 127          };
 128          
 129          //---------------------------------------
 130          //LED点阵屏相关I/O设置
 131          sbit U15E3=P1^3;           //LED点阵屏单元的U15(74HC138)的使能端E3脚接在P1.3口上
 132          sbit U14E3=P1^4;           //LED点阵屏单元的U14(74HC138)的使能端E3脚接在P1.4口上
 133          //---------------------------------------
 134          
 135          //---------------------------------------
 136          //LED点阵屏寄存器设置
 137          unsigned char m=15;        //设置8位的unsigend char型寄存器用来做汉字显示的索引
 138          unsigned char n;           //设置8位的unsigend char型寄存器用来做延时用
 139          unsigned char w;           //设置8位的unsigend char型寄存器用来做延时用
 140          unsigned char v;           //设置8位的unsigend char型寄存器用来做移动索引
 141          //---------------------------------------
 142          
 143          //---------------------------------------
 144          //名称: 主函数
 145          //适用：给力者GL9单片机开发学习系统
 146          //公司：宁波芯动电子有限公司
 147          //网址：www.MovingChip.com
 148          //日期：20120914
 149          //---------------------------------------
 150          void main(void)            //主函数,单片机开机后就是从这个函数开始运行
 151          {
 152   1      
 153   1          while(1)               //死循环,单片机初始化后,将一直运行这个死循环
 154   1          {
 155   2      
 156   2              for(n=0;n<80;n++); //做一个0-80的循环，不执行其他操作，只为延时
 157   2              if(++w>220)        //再嵌套一个延时，每220个扫描周期将汉字左移一格
 158   2              {
 159   3                  w=0;           //清零，以准备下一个延时
 160   3                  if(++v>176) v=0;//移动索引，限定在0-176
 161   3              }
 162   2              if(++m>15) m=0;    //每调用一次函数将m加1，并限制在0-15以内
 163   2              P1=0;              //将LED点阵屏的列控制信号全部清零，准备重置 
 164   2              P0=han1[m+v];      //LED点阵屏的上半屏，按m+v索引查表han1送P0 
 165   2              P2=han2[m+v];      //LED点阵屏的下半屏，按m+v索引查表han2送P2 
 166   2              P1|=m&0x07;        //将索引m的低3位送给P1的低3位，以使74HC138去片选 
 167   2              if(m<8) U15E3=1;   //前8列需要使能U15(74HC138) 
 168   2              else U14E3=1;      //后8列需要使能U14(74HC138) 
 169   2      
 170   2          }
 171   1      }
 172          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     88    ----
   CONSTANT SIZE    =    448    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
C51 COMPILER V7.00  TEST28                                                                 12/19/2012 07:54:46 PAGE 4   

   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
