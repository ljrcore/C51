<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">


<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>news--Post Message</title>
<meta name="FORMATTER" content="Microsoft FrontPage 2.0">
</head>

<body bgcolor=white>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>电子报新闻和重要文章</title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body bgcolor="#FFFFFF">
<style type="text/css">
<!--
.linktop{font-size:9pt}
.linktop a{color: #000000; font-style: normal; text-decoration: none; cursor: hand}
.linktop a:visited {color: rgb(0,0,0); font-style: normal; text-decoration: none}
.linktop a:active  {color:  rgb(100,0,0); font-style: normal; text-decoration: none}
.linktop a:hover {color: rgb(255,255,255); font-style:bold; text-decoration: none}	 
-->
</style>

<div align="center"><center>

<table border="0" width="700" cellspacing="0" cellpadding="0">
  <tr>
    <td width="700" align="center"><a href="/index.asp"><img src="/images/dzblogo.gif" width="228" height="60" border="0"></a><img src="/IMAGES1/kantou1.JPG" border="0" width="279" height="60"><a href="/pav/index.asp"><img src="/IMAGES1/kantou2.jpg" border="0"width="184" height="60"></a></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="700" cellpadding="4" height="25">
  <tr>
    <td height="11" align="center" bgcolor="#12BEC2" width="77"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/about/aboutus.asp" target="_top">关于我们</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="#" target="_top">联系方式</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/zhongyao/zywz.asp" target="_top">电子报网络版</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/bbs/bbs.asp" target="_top">BBS</a></span></td>
   <!--
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/QuestionAnswer/question/index.htm" target="_top">专家热线</a></span></td>
   -->
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/shudian/shudian.asp" target="_top">网上书店</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/weixiu/wxzlk.asp" target="_top">电子报刊检索</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/pav/index.asp" target="_top">实用影音技术</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/jiaoliu/jiaoliu.asp" target="_top">个人链接</a></span></td>
  </tr>
</table>
</center></div>
<div align="center"><center>

<div align="center"><center><table border="0" width="650" cellspacing="1" cellpadding="2">
      <tr>
        <td width="100%" valign="top" bgcolor="#DDDDDD"><span style="font-family:宋体;font-size: 9pt"><b><p align="center">新闻和重要文章</b></span></td>
      </tr>
      <tr>
        <td width="100%" valign="top"><span style="font-family:宋体;font-size: 14px">


<strong><BR><p align="center">
<font color="darkblue">ＡＴ８９Ｃ２０５１单片机硬件和编程步骤</strong></font><br>
1999年,第36期,类别:海外电子<br></p>

		<p align="left">　　一、AT89C2051单片机的硬件结构　89系列单片机是ATMEL公司的8位单片机系列产品，其最大特点是片内含有Flash存储器（取代MCS－51中的ROM），并且和MCS－51兼容（AT89的片内含有51系列的8031）。89系列单片机共有7种型号，在这里以它的低档型、低电压产品AT89C2051为例，介绍设计单片机系统的方法和步骤。<br>
　　单片机系统，应包括相应的硬件和软件。软件是指编程用的指令系统；硬件即芯片提供的硬件资源和与外部结构配置的器件，两者缺一不可。初学单片机系统时，一旦确定了单片机的型号（即选型），首先得认识它的内部硬件结构才能最佳配置单片机的硬件系统。<br>
　　AT89C2051芯片的片内硬件资源请参见常用MCS－51系列（8位）单片机内部硬件资源表。有关片内硬件功能，请参见前述连载的有关内容。<br>
　　1毙藕乓脚功能　<br>
　　AT89C2051是一种20引脚的双列直插式IC芯片，其引脚排列参看图10所示。引脚是单片机的硬件外特性，用户通过引脚连接外部器件就能组建单片机系统。<br>
　（1）P1口：它是8位双向口线，即P10～P17。口引脚P10（{12}脚）和P11（{13}脚）用于外部接口工作时，要求配置外部的上拉电阻；P12～P17内部设有上拉电阻，用于外部接口工作时，由外部负载工作方式决定是否配置上拉电阻。P1口带有输出缓冲器，可吸收20mA的电流并能直接驱动LED显示。P1口的功能之一是在闪速编程和程序校验期间接收代码数据（即编程的数据输入口）。<br>
　　（2）P3口：它是带有内部上拉电阻的7位双向口线，即P30～P35和P37。P36因内部功能的需要，它虽是通用的I/O口引脚但不可访问。P3口的其它特性与P1口相同，此外P3口还具有第二功能。<br>
　　（3）复位端RST（1脚）：当1脚加“H”高电平时芯片内部的功能电路复位，此时I/O口线引脚复位到“1”电平。<br>
　　（4）XTAL1（5脚）：振荡器外接晶振，内部时钟发生器输入。<br>
　　（5）XTAL2（4脚）：振荡器外接晶振、反相放大器输出。<br>
　　（6）电源端{20}脚（＋27～6V）和10脚（地端）。<br>
　　2币脚的复用功能<br>
　　由上述对AT89C2051引脚介绍可见：<br>
　　P1和P3口共占用15个引脚，外加复位、振荡（时钟）和电源端等已把芯片的引脚全部占完。然而单片机在执行各种功能时还需要更多的引脚才能受控或与外界交换的信息，为解决这种矛盾，生产厂家给芯片的某些引脚设置了第二功能，通过它可完成单片机的多种控制功能。例如要给AT89C2051编程，需由P3口的P33、P34、P35和P37端加控制信号以完成闪速编程（如附表所示）；AT89C2051要完成串行的输入、输出，外中断功能和外部输入定时，需P30～P35端提供端口（功能表从略）。再有P10、P11是内部比较器输入端口。<br>
　　二、AT89C2051应用实例<br>
　　1AT89C2051的最小系统<br>
　　单片机的最小系统是指它的最简配置方式，其特点是结构简单，通常用于简单的控制功能或学习单片机的实验制作。例如连载八中表2的LED循环灯制作，就属于单片机的最小系统，要完成该表对电路的要求，只需在AT89C2051的管脚上配置晶振、复位电路、8只LED管和电源就构成了LED循环灯的硬件配置（即循环灯电路），如图11所示。本电路配置的元器件完全符合上述的AT89C2051的I/O口要求。读者可以按上述要求检查：如{12}和{13}脚上的电阻R1、R2是P10和P11要求的上拉电阻；C、R3是1脚上电清零网络。<br>
　　2倍AT89C2051闪速存储器（即程序存储器）的编程步骤<br>
　　要编程需要建立LED循环灯的汇编程序，再进行汇编。但进行这些工作之前必须了解AT89C2051的编程控制步骤，才能达到汇编目的，编程时一次编程一个字节，其步骤如下：（1）对AT89C2051上电（在{20}脚与10脚之间加5V电压）；（2）设置RST1脚和XTAL1为GND，保持其它引脚悬空其等待时间10ms以上；（3）设置RST1脚和P366脚为“H”高电平（5V）；（4）设置P337脚为“L”低电平，P34～P35、P37为高电平。（5）在000H单元对P10～P17口加入数据代码（即汇编程序中的代码数）；（6）升高RST1脚电压为＋12V（编程电压）以激活编程；（7）使P366脚跳变一次（见附表中代码数据栏P32中的脉冲信号）来编程闪速存储器的一个字节（即一次编程），写字节周期为12ms（自定时）；（8）校验已被编程的数据：把RST1脚电平从12V降到“H”电平（5V），再按附表1读代码数据栏中对各口的设置加“H”或“L”电平，就可在P1口引脚输出编程的数据；（9）在下一地址单元编程字节，使XTAL1跳变一次（加单脉冲信号，如图12所示）则内部地址计数器加1，又可对P1口加新数据，重复（5）至（8）的步骤达到又一次的编程；（10）下电次序：设置XTAL1为“L”，设置RST为“L”，悬空所有其它I/O引脚，关闭Vcc电源。<br>
　　成都　金韦　立本　<br>
        <br>
        </font>
</span></td>
      </tr>
    </table>
    </center></div>
</body>
</html>
