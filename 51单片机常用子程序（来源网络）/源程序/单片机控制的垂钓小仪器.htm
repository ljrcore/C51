<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">


<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>news--Post Message</title>
<meta name="FORMATTER" content="Microsoft FrontPage 2.0">
</head>

<body bgcolor=white>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>电子报新闻和重要文章</title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body bgcolor="#FFFFFF">
<style type="text/css">
<!--
.linktop{font-size:9pt}
.linktop a{color: #000000; font-style: normal; text-decoration: none; cursor: hand}
.linktop a:visited {color: rgb(0,0,0); font-style: normal; text-decoration: none}
.linktop a:active  {color:  rgb(100,0,0); font-style: normal; text-decoration: none}
.linktop a:hover {color: rgb(255,255,255); font-style:bold; text-decoration: none}	 
-->
</style>

<div align="center"><center>

<table border="0" width="700" cellspacing="0" cellpadding="0">
  <tr>
    <td width="700" align="center"><a href="/index.asp"><img src="/images/dzblogo.gif" width="228" height="60" border="0"></a><img src="/IMAGES1/kantou1.JPG" border="0" width="279" height="60"><a href="/pav/index.asp"><img src="/IMAGES1/kantou2.jpg" border="0"width="184" height="60"></a></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="700" cellpadding="4" height="25">
  <tr>
    <td height="11" align="center" bgcolor="#12BEC2" width="77"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/about/aboutus.asp" target="_top">关于我们</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="#" target="_top">联系方式</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/zhongyao/zywz.asp" target="_top">电子报网络版</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/bbs/bbs.asp" target="_top">BBS</a></span></td>
   <!--
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/QuestionAnswer/question/index.htm" target="_top">专家热线</a></span></td>
   -->
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/shudian/shudian.asp" target="_top">网上书店</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/weixiu/wxzlk.asp" target="_top">电子报刊检索</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/pav/index.asp" target="_top">实用影音技术</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/jiaoliu/jiaoliu.asp" target="_top">个人链接</a></span></td>
  </tr>
</table>
</center></div>
<div align="center"><center>

<div align="center"><center><table border="0" width="650" cellspacing="1" cellpadding="2">
      <tr>
        <td width="100%" valign="top" bgcolor="#DDDDDD"><span style="font-family:宋体;font-size: 9pt"><b><p align="center">新闻和重要文章</b></span></td>
      </tr>
      <tr>
        <td width="100%" valign="top"><span style="font-family:宋体;font-size: 14px">


<strong><BR><p align="center">
<font color="darkblue">单片机控制的垂钓小仪器</strong></font><br>
2002年,第12期,类别:智能电子<br></p>

		<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;垂钓是一项有益健康的体育活动。垂钓时用投竿作钓具，一次向水中投入多组挂饵的钩（每根投竿挂一组钩），鱼饵被水浸泡或小鱼嘬吮会丢失，故需定时给每组钩换食。各组钩入水中时间不同，要控制好换饵时间难度很大。笔者设计并制作的垂钓小仪器，使垂钓爱好者除了可以准时换鱼食外，还能掌握气温和水温，能大大提高垂钓效果。<br>
&nbsp;&nbsp;&nbsp;&nbsp;电路见图１。８９Ｃ２０５１完成八路定时（到时发声报警）、温度测量、定时充电功能。Ｐ１．４～Ｐ１．７输出各显示位的ＢＣＤ码，ＩＣ３为译码驱动器，数码管为共阴方式，Ｐ１．２～Ｐ１．３、Ｐ３．０～Ｐ３．１为位选信号输出口。<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ｓ１～Ｓ１６组成４×４开关阵列。在扫描期间，Ｐ１．４～Ｐ１．７依次输出低电平，Ｐ３．２～Ｐ３．５作输入（低电平有效）。当检测到某引脚为低电平时，由软件设置状态，以查询方式执行控制和显示，各按钮开关的功能见附表。Ｓ１～Ｓ７对应“０”至“７”八个通道，每个通道可设置１至９９分钟（用数码管ＣＯＭ１、ＣＯＭ２两位显示）；Ｓ１～Ｓ１０为设置数字输入，在设置（ＳＥＴ）状态按下某键，对应数字输入相应位。Ｓ１５（ＬＥＦＴ）为移位键，用于设置时间个位与十位之间转换。数码管ＣＯＭ３为状态位，当前显示通道未设置显示１（不进行定时报警），正在定时（未到报警时间）不显示，正在报警显示０，正在设置状态显示２。数码管ＣＯＭ４显示通道号，如按一下Ｓ３则显示２通道。Ｓ１０（ＳＴＯＰ）的作用是将显示通道的计时清零。<br>
&nbsp;&nbsp;&nbsp;&nbsp;报警时Ｐ３．７输出低电平，Ｖ１导通，蜂鸣器Ｂ１发声。如有多个通道报警则按先后次序排队显示。按下Ｓ１６（ＲＥＳＥＴ），该通道结束报警重新计时，并显示下一个报警通道，待所有报警通道都结束返回，Ｐ３．７变成高电平。Ｓ１６还有设置返回功能（设置完按Ｓ１６退出设置，进入计时，显示当前时间）。Ｓ１２（ＣＨＧ）为充电控制，当Ｓ１７置于ＣＨＡＲＧ（ＰＯＷＥＲ ＯＦＦ）时，插入９Ｖ电源，按Ｓ１２，Ｐ３．３输出低电平，Ｖ２、Ｖ３、Ｖ５导通，四节五号镍镉电池被充电，充电电流由Ｒ１６的阻值决定（当然功率要足够），此时数码管显示充电的小时和分钟数，充到１６小时，单片机进入掉电状态，各三极管截止，电池停止充电。<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ｐ１．０与Ｐ１．１口内置的模拟比较器构成Ａ／Ｄ转换，进行温度检测。转换前Ｐ１．１为低电平（内部晶体管饱和），Ｃ４无电压；转换开始时Ｐ１．１内部晶体管截止，Ｒ１２（Ｒｔ）向Ｃ４充电；当Ｃ４电压达到Ｐ１．０的电压（电位器Ｐ３输出电压）时，内置模拟比较器输出端（Ｐ３．６）变成低电平，Ｐ１．１变成低电平，Ｃ４放电。充电时间Ｔ＝ｌｎ（１－Ｕｏ／Ｅ）Ｒ１２×Ｃ４。其中，Ｕｏ／Ｅ为电位器的分压比，当该值取０．６３２时，Ｔ＝Ｒ１２×Ｃ４。该时间由内部定时器ＴＭＲ１（设置成十六位计时状态）完成。按下Ｓ１６，退出温度显示状态返回其他状态。<br>
&nbsp;&nbsp;&nbsp;&nbsp;软件功能是开机，系统设置各寄存器状态，内部定时０（ＴＭＲ０）作时基信号，每０．１秒产生一次中断，在中断服务子程序中对各定时、充电时间等寄存器进行判断处理（各通道分别计数，符合条件者分钟加１或小时加１，以及消除键抖动的定时等），其他中断禁止。主程序先对键盘扫描（如有键按下执行相应键处理程序），接着判断充电（如有则进入充电程序，充电时按任何键无效），判断温度（如有则进入温度程序，启动定时器１作Ａ／Ｄ转换计时，用查表法求出相应温度值），判断报警（如有则执行相关程序，比较各通道计时时间与设置时间以确定报警否，报警输出），最后显示各状态，然后返回键盘扫描程序。该装置采用电池供电，为省电，只要四分钟无任何键按下则停止显示（报警，充电期间除外）。<br>
&nbsp;&nbsp;&nbsp;&nbsp;本仪器元器件无特殊要求，按图示参数即可。热敏电阻用ＮＴＣ型５０ｋ（ｔ＝２５℃），Ｂ＝３３００或３９００。热敏电阻要装在小金属管内并用胶封严，以防水。Ｂ１用直流供电３Ｖ～９Ｖ的较好。装好后调节Ｐ３，使温度显示值与普通温度表一致，本机测量温度范围为０℃～４０℃，低于下限或传感器开路显示９９，高于上限或传感器短路显示６６。正常显示时电池电流为４０～６０ｍＡ，不显示时为６～８ｍＡ，用６００ｍＡｈ的电池组完全能胜任。<br>
<br>
　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　北京&nbsp;&nbsp;叶绍霖&nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;编者：因篇幅关系，本文的源程序无法刊出，需要的读者请发函或Ｅ－ｍａｉｌ至本报单片机公共实验室索取（如需源程序软盘请汇款８元）。<br>
        <br>
         <a href="" target="_blank"> </a><br>
        <br>
        <img src="\dzbimg\2002\12\l1.jpg">　</font>
</span></td>
      </tr>
    </table>
    </center></div>
</body>
</html>
