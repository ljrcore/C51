<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">


<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>news--Post Message</title>
<meta name="FORMATTER" content="Microsoft FrontPage 2.0">
</head>

<body bgcolor=white>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>电子报新闻和重要文章</title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body bgcolor="#FFFFFF">
<style type="text/css">
<!--
.linktop{font-size:9pt}
.linktop a{color: #000000; font-style: normal; text-decoration: none; cursor: hand}
.linktop a:visited {color: rgb(0,0,0); font-style: normal; text-decoration: none}
.linktop a:active  {color:  rgb(100,0,0); font-style: normal; text-decoration: none}
.linktop a:hover {color: rgb(255,255,255); font-style:bold; text-decoration: none}	 
-->
</style>

<div align="center"><center>

<table border="0" width="700" cellspacing="0" cellpadding="0">
  <tr>
    <td width="700" align="center"><a href="/index.asp"><img src="/images/dzblogo.gif" width="228" height="60" border="0"></a><img src="/IMAGES1/kantou1.JPG" border="0" width="279" height="60"><a href="/pav/index.asp"><img src="/IMAGES1/kantou2.jpg" border="0"width="184" height="60"></a></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="700" cellpadding="4" height="25">
  <tr>
    <td height="11" align="center" bgcolor="#12BEC2" width="77"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/about/aboutus.asp" target="_top">关于我们</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="#" target="_top">联系方式</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/zhongyao/zywz.asp" target="_top">电子报网络版</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/bbs/bbs.asp" target="_top">BBS</a></span></td>
   <!--
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/QuestionAnswer/question/index.htm" target="_top">专家热线</a></span></td>
   -->
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/shudian/shudian.asp" target="_top">网上书店</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/weixiu/wxzlk.asp" target="_top">电子报刊检索</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/pav/index.asp" target="_top">实用影音技术</a></span></td>
    <td height="11" align="center" bgcolor="#12BEC2" width="78"><span
    style="font-family: 宋体; font-size: 9pt" class="linktop"><a href="/jiaoliu/jiaoliu.asp" target="_top">个人链接</a></span></td>
  </tr>
</table>
</center></div>
<div align="center"><center>

<div align="center"><center><table border="0" width="650" cellspacing="1" cellpadding="2">
      <tr>
        <td width="100%" valign="top" bgcolor="#DDDDDD"><span style="font-family:宋体;font-size: 9pt"><b><p align="center">新闻和重要文章</b></span></td>
      </tr>
      <tr>
        <td width="100%" valign="top"><span style="font-family:宋体;font-size: 14px">


<strong><BR><p align="center">
<font color="darkblue">串行通讯的广域防盗报警系统</strong></font><br>
2000年,第45期,类别:单片机应用<br></p>

		<p align="left">&nbsp;&nbsp;&nbsp;&nbsp;本文介绍的热释电红外线广域防盗报警器，主机和探头均采用单片机控制，二者间通过串行总线通讯。一台主机原则上可连接多达２５６个探头。每个探头都有自己的地址码（根据电源供电和用户需要，目前探头的最大数量为３２个）。探头由主机集中供电，用电安全、系统简洁。本系统适用于果园、养殖场、蔬菜大棚、鱼塘、仓库群、材料场等大面积的防火、防盗监测报警。<br>
&nbsp;&nbsp;&nbsp;&nbsp;本系统安装简单、节省线材，抗干扰能力强，其自检自查功能保证了系统能正常工作。利用Ｅ２ＰＲＯＭ自由修改设置，数据在掉电状态可保存１００年。此外，系统还有过流保护、定时工作、精确的数码时钟，以及方便的红外线遥控器操作等功能。<br>
&nbsp;&nbsp;&nbsp;&nbsp;主机工作原理<br>
&nbsp;&nbsp;&nbsp;&nbsp;主机电路原理如图１所示。右半部分是电源、报警、继电器输出和电流检测电路等。电源电路（图中略）提供５Ｖ的Ｖｃｃ、ＶＤＤ，以及＋１２Ｖ三组电源，＋１２Ｖ与Ｖｃｃ、ＶＤＤ不共地。<br>
&nbsp;&nbsp;&nbsp;&nbsp;单片机与外部线路通过光耦隔离，保证了单片机可靠、稳定地工作。Ｖｃｃ和ＶＤＤ之间通过一个锗二极管隔离。ＶＤＤ电压４．８Ｖ，它在为单片机供电的同时，通过电阻接４节５号充电电池，平时电池处于浮充电状态，一旦停电，由４节充电电池为单片机供电，由于二极管的隔离作用，显示电路不得电，数码管不显示，节省电池的电能。停电时，可以外接１２Ｖ电瓶为外电路供电，以保证正常报警。在非报警状态下，此电源耗电极小。<br>
&nbsp;&nbsp;&nbsp;&nbsp;单片机采用ＡＴ８９Ｃ５１连接一片Ｘ２５０４５（关于Ｘ２５０４５的相关介绍见今年《电子报》第７期第十二版），用于储存用户的设置信息（１０次报警时间、地点）、提供看门狗和低电压检测等，使单片机工作更加安全可靠。<br>
&nbsp;&nbsp;&nbsp;&nbsp;ＡＴ８９Ｃ５１的Ｐ０、Ｐ２口以及Ｐ３口的Ｐ３．６、Ｐ３．７用于数码显示。平时４个数码管以及两个秒点灯组成时钟显示，以分钟为进位单位，不论白天黑夜均可清晰地观察时间。单片机驱动数码管显示的电路比较多见，此处不再赘述。<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ｐ１．５是发码控制脚，通过光耦合放大，将码脉冲信号发送到信号线路上。Ｐ１．６控制报警灯继电器的工作状态，继电器的常开触点通过一个单相电源插座接台灯遥控；当设置成灯光参与报警时，熄灭状态的台灯会立即点亮参与报警，尤其在夜间，既是照明灯，又是报警灯。Ｐ１．７控制探头供电继电器，通过探头供电与否决定警戒状态的设置与解除，同时用作探头供电电源的过流保护，一旦短路或严重漏电，单片机控制继电器吸合，常闭触点断开，供电停止。Ｐ３．２检测探头供电线路的电流，一旦出现过流，单片机执行程序被立即中断，转向执行过流保护，切断供电电路。探头由＋１２Ｖ通过Ｒ７和Ｒ８、光耦ＩＣ５Ｂ，经由Ｊ２的常闭触点供电。正常情况下，ＩＣ５Ｂ的输入端无电流，一旦线路短路或严重漏电，探头电流增大，Ｒ７两端的电压降增大。当电压超过光耦的输入导通电压时，ＩＣ５Ｂ输出端由截止变成饱和，Ｐ３．２脚由高电平下拉成低电平，单片机执行中断程序，保护电路动作，保护供电电路的安全，同时发出探头过流提示音。２分钟后，单片机尝试恢复供电。如果探头电路恢复正常，供电成功，如果不正常，重复以上保护和提示的过程。<br>
&nbsp;&nbsp;&nbsp;&nbsp;Ｐ３．０输出各种报警音频信号，Ｐ３．３接收各探头送来的脉冲数字信号。信号线路上的信号经过Ｖ２的放大整形后，再经光电耦合到Ｐ３．２脚，由Ｐ３．２脚读出数据。红外线遥控器发出的遥控信号，经过Ｖ１放大后送到Ｐ３．４脚，由Ｐ３．４读出遥控器发来的数据，单片机按遥控器指令完成相应的工作。利用Ｐ３．３和Ｐ３．４的外部中断和定时（计数）中断可准确无误地接收信号。<br>
&nbsp;&nbsp;&nbsp;&nbsp;通过遥控器可以实现：１．当时时间的输入；２．警戒状态的设置和解除；３．警戒状态的定时开启和定时关闭的时间预置；４．探头号码的输入和消除；５．遥控开灯、遥控关灯；６．定时开灯或定时关灯；７．查询已发生过的报警历史记录；８．查询预置的定时时间等操作，比用按钮设置方便得多。<br>
&nbsp;&nbsp;&nbsp;&nbsp;按钮Ｋ１和Ｋ２是功能设置开关，作用与遥控器的部分功能相同。可完成４种操作：１．当时时间的输入；２．探头号码的输入和解除；３．灯光报警的设置和解除；４．警戒状态的设置和解除。<br>
&nbsp;&nbsp;&nbsp;&nbsp;探头电路工作原理<br>
&nbsp;&nbsp;&nbsp;&nbsp;图２是广域防盗报警器的探头电路原理图。控制器采用８９Ｃ２０５１，其中Ｐ１．０和Ｐ１．１是内部精密比较器的同相输入和反相输入端，内藏输出端Ｐ３．６在编程时允许使用。本电路中Ｐ１．０和Ｐ１．１接成输入端悬浮式的比较器；Ｐ３．２接收主机发来的脉冲数据，Ｐ３．４向主机发出应答和报警脉冲码数据。其它口用于生产时对探头的性能自动检测。<br>
&nbsp;&nbsp;&nbsp;&nbsp;主机通过ＣＺ１的①、②脚向探头提供１１Ｖ～１１．５Ｖ的直流电源，ＣＺ１的③脚是串行通信线。串行通信电路与主机相同。平时，ＩＣ３Ａ截止，主机通过Ｒ１４输出１２Ｖ电压，Ｖ３截止，ＩＣ３的①、②脚无电流通过，对应的输出端截止，⑧脚为高电平。当主机输出低电平脉冲数据后，Ｖ３饱和，ＩＣ３的①、②脚有电流，输出端饱和，Ｐ３．２为低电平，产生外部中断，及时接收主机的数据。需要向主机发应答信号时，由Ｐ３．４经ＩＣ３的③、④、⑤、⑥脚传送到主机。<br>
&nbsp;&nbsp;&nbsp;&nbsp;热释红外线传感器，接收人体热释红外线信号，经Ｖ１和Ｖ２两级交流放大送电压比较电路，比较器输入端Ｐ１．０、Ｐ１．１之间的静态电压由Ｒ５、Ｒ３对Ｒ１１两端电压的分压决定，ＶＰ１．０高于ＶＰ１．１，Ｐ３．６输出高电平。有人进入检测范围内，带菲涅尔透镜的传感器输出变化的信号，经过两级交流放大后加在Ｐ１．１脚上，使得Ｐ３．６输出状态变化。单片机按Ｐ３．６输出的交变信号的规律编写算法程序，对Ｐ３．６脚的信号计算、分析、判断，去掉干扰信号，核实真正的警情信号后，向主机发送“正常”或“报警”状态数据。<br>
&nbsp;&nbsp;&nbsp;&nbsp;系统工作原理<br>
&nbsp;&nbsp;&nbsp;&nbsp;探头与主机通过串行总线连接，所有的探头并联在同一条总线上，每个探头都有自己的号码。探头接入后，通过按钮开关或遥控器向主机输入探头号码，主机将号码排序后储存到Ｅ２ＰＲＯＭ中。程序进入正常工作后，主机将探头的数量和探头号码通知每个探头，各探头根据本身的号码和其它探头的号码顺序，经过运算确定与主机的通信的时间和方式，其它时间探头全部用于警情检测。<br>
&nbsp;&nbsp;&nbsp;&nbsp;探头检测到警情，核实后向主机发送报警信号，主机发出报警声，并显示报警探头号码，值班人员便知出事地点。<br>
&nbsp;&nbsp;&nbsp;&nbsp;如果盗贼切断线路，断点以后的探头不能与主机通信，主机核实后，显示丢失的探头号码并报警。<br>
&nbsp;&nbsp;&nbsp;&nbsp;一旦探头发现警情、探头本身出现问题，或者总线遭到破坏，主机均可及时发出报警或提示音，显示报警地点或事故状况。<br>
&nbsp;&nbsp;&nbsp;&nbsp;该报警器的自检、自查功能、过流保护后的自动恢复功能等，是通过软件来完成的。广域报警器主机的程序比较大，不便提供，需要者可与作者联系（Ｅ－ｍａｉｌ：ｘｐｃ＠ｃｚ－ｕｓｅｒ．Ｈｅ．Ｃｎｉｎｆｏ．Ｎｅｔ）。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;徐福成　赵丽华　刘克智　<br>
        <br>
         <a href="" target="_blank"> </a><br>
        <br>
        <img src="\dzbimg\2000\45\l1.jpg">　<img src="\dzbimg\2000\45\l2.jpg">　</font>
</span></td>
      </tr>
    </table>
    </center></div>
</body>
</html>
