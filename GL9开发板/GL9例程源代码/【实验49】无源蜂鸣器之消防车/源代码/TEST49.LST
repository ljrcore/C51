C51 COMPILER V7.00  TEST49                                                                 09/18/2012 21:36:21 PAGE 1   


C51 COMPILER V7.00, COMPILATION OF MODULE TEST49
OBJECT MODULE PLACED IN TEST49.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE TEST49.c BROWSE DEBUG OBJECTEXTEND

stmt level    source

   1          ////////////////////////////////////////////////////////////////////////////
   2          //                给力者单片机开发学习系统，开发学习都给力！              //
   3          ////////////////////////////////////////////////////////////////////////////
   4          //                     学习51单片机，其实可以很简单                       //
   5          ////////////////////////////////////////////////////////////////////////////
   6          //                宁波芯动电子有限公司  www.MovingChip.com                //
   7          ////////////////////////////////////////////////////////////////////////////
   8          
   9          #include <AT89X52.h>       //调用51单片机的头文件
  10          
  11          unsigned char TL0buf;
  12          unsigned int  k;
  13          unsigned char m;
  14          //---------------------------------------
  15          //名称：定时器0中断服务程序
  16          //适用：给力者GL9单片机开发学习系统
  17          //公司：宁波芯动电子有限公司
  18          //网址：www.MovingChip.com
  19          //日期：20120914
  20          //---------------------------------------
  21          void Timer0(void) interrupt 1 
  22          {                          
  23   1          TH0=0xfc;
  24   1              TL0=TL0buf;                      //再次置初值
  25   1      
  26   1          //***此处用户自行添加定时器T0中断处理程序***
  27   1              P1_2=!P1_2;
  28   1          //******************************************
  29   1      
  30   1      }
  31          //---------------------------------------
  32          //名称: 主函数
  33          //适用：给力者GL9单片机开发学习系统
  34          //公司：宁波芯动电子有限公司
  35          //网址：www.MovingChip.com
  36          //日期：20120914
  37          //---------------------------------------
  38          void main(void)            //主函数,单片机开机后就是从这个函数开始运行
  39          {
  40   1      
  41   1          //***定时器Timer0初始化***
  42   1          TMOD&=0xF0;            //将TMOD的低4位定时器0控制部分清零
  43   1          TMOD|=0x01;            //设置定时器0为方式1
  44   1          TL0=0xFC;              //设置定时器0初值低8位
  45   1          TH0=0x01;              //设置定时器0初值高8位
  46   1               TL0buf=0x01;                   //900hz  
  47   1          TR0=1;                 //启动定时器0
  48   1          ET0=1;                 //Timer0中断允许
  49   1          //**********************
  50   1      
  51   1          //***开全局中断设置****
  52   1          //定时器Timer0设置了中断允许,此处要开全局中断
  53   1          EA=1;                  //开全局中断
  54   1          //*********************
  55   1      
C51 COMPILER V7.00  TEST49                                                                 09/18/2012 21:36:21 PAGE 2   

  56   1          while(1)               //死循环,单片机初始化后,将一直运行这个死循环
  57   1          {
  58   2                      for(m=0;m<200;m++)      
  59   2                      {
  60   3                              for(k=0;k<2000;k++); //延时，不用很精确
  61   3                              TL0buf=m;          //1800hz-2940hz                      
  62   3                      }
  63   2                      for(m=200;m>0;m--)      
  64   2                      {
  65   3                              for(k=0;k<2000;k++); //延时，不用很精确
  66   3                              TL0buf=m;          //2940hz-1800hz                      
  67   3                      }
  68   2          }
  69   1      }
  70          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    102    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
