C51 COMPILER V7.00  TEST48                                                                 09/18/2012 21:35:41 PAGE 1   


C51 COMPILER V7.00, COMPILATION OF MODULE TEST48
OBJECT MODULE PLACED IN TEST48.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE TEST48.c BROWSE DEBUG OBJECTEXTEND

stmt level    source

   1          ////////////////////////////////////////////////////////////////////////////
   2          //                给力者单片机开发学习系统，开发学习都给力！              //
   3          ////////////////////////////////////////////////////////////////////////////
   4          //                     学习51单片机，其实可以很简单                       //
   5          ////////////////////////////////////////////////////////////////////////////
   6          //                宁波芯动电子有限公司  www.MovingChip.com                //
   7          ////////////////////////////////////////////////////////////////////////////
   8          
   9          #include <AT89X52.h>       //调用51单片机的头文件
  10          
  11          unsigned char TL0buf;
  12          unsigned int  k;
  13          //---------------------------------------
  14          //名称：定时器0中断服务程序
  15          //适用：给力者GL9单片机开发学习系统
  16          //公司：宁波芯动电子有限公司
  17          //网址：www.MovingChip.com
  18          //日期：20120914
  19          //---------------------------------------
  20          void Timer0(void) interrupt 1 
  21          {                          
  22   1          TH0=0xfc;
  23   1              TL0=TL0buf;                      //再次置初值
  24   1      
  25   1          //***此处用户自行添加定时器T0中断处理程序***
  26   1              P1_2=!P1_2;
  27   1          //******************************************
  28   1      
  29   1      }
  30          //---------------------------------------
  31          //名称: 主函数
  32          //适用：给力者GL9单片机开发学习系统
  33          //公司：宁波芯动电子有限公司
  34          //网址：www.MovingChip.com
  35          //日期：20120914
  36          //---------------------------------------
  37          void main(void)            //主函数,单片机开机后就是从这个函数开始运行
  38          {
  39   1      
  40   1          //***定时器Timer0初始化***
  41   1          TMOD&=0xF0;            //将TMOD的低4位定时器0控制部分清零
  42   1          TMOD|=0x01;            //设置定时器0为方式1
  43   1          TL0=0xFC;              //设置定时器0初值低8位
  44   1          TH0=0x01;              //设置定时器0初值高8位
  45   1               TL0buf=0x01;                   //900hz  
  46   1          TR0=1;                 //启动定时器0
  47   1          ET0=1;                 //Timer0中断允许
  48   1          //**********************
  49   1      
  50   1          //***开全局中断设置****
  51   1          //定时器Timer0设置了中断允许,此处要开全局中断
  52   1          EA=1;                  //开全局中断
  53   1          //*********************
  54   1      
  55   1          while(1)               //死循环,单片机初始化后,将一直运行这个死循环
C51 COMPILER V7.00  TEST48                                                                 09/18/2012 21:35:41 PAGE 2   

  56   1          {
  57   2                      TL0buf=0x01;          //900hz
  58   2                      for(k=0;k<40000;k++); //约延时1-2秒，不用很精确
  59   2                      TL0buf=0xc8;          //1118hz
  60   2                      for(k=0;k<40000;k++); //约延时1-2秒，不用很精确
  61   2          }
  62   1      }
  63          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    104    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
