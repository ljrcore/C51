C51 COMPILER V7.00  TEST66                                                                 09/16/2012 13:19:55 PAGE 1   


C51 COMPILER V7.00, COMPILATION OF MODULE TEST66
OBJECT MODULE PLACED IN TEST66.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE TEST66.c BROWSE DEBUG OBJECTEXTEND

stmt level    source

   1          ////////////////////////////////////////////////////////////////////////////
   2          //                给力者单片机开发学习系统，开发学习都给力！              //
   3          ////////////////////////////////////////////////////////////////////////////
   4          //                     学习51单片机，其实可以很简单                       //
   5          ////////////////////////////////////////////////////////////////////////////
   6          //                宁波芯动电子有限公司  www.MovingChip.com                //
   7          ////////////////////////////////////////////////////////////////////////////
   8          
   9          #include <AT89X52.h>       //调用51单片机的头文件
  10          
  11          sbit RE_DE=P3^2;
  12          //---------------------------------------
  13          //串口接收寄存器设置
  14          unsigned char USARTbuf;    //设置8位的unsigend char型寄存器用来暂存串口接收内容
  15          //---------------------------------------
  16          
  17          //---------------------------------------
  18          //名称: 主函数
  19          //适用：给力者GL9单片机开发学习系统
  20          //公司：宁波芯动电子有限公司
  21          //网址：www.MovingChip.com
  22          //日期：20120916
  23          //---------------------------------------
  24          void main(void)            //主函数,单片机开机后就是从这个函数开始运行
  25          {
  26   1              unsigned int a;
  27   1              unsigned char b;
  28   1          //*****USART串口初始化*****
  29   1          TMOD&=0x0F;            //把TMOD高4位清0
  30   1          TMOD|=0x20;            //将TMOD的M1位置1，设置成自动装入的8位定时器
  31   1          TH1=0xFA;              //设置波特率为9600
  32   1          TL1=0xFA;              //设置波特率为9600
  33   1          TR1=1;                 //启动定时器T1，作为串口波特率发生器
  34   1          SCON=0x50;             //10位异步收发，波特率由定时器控制，允许串口接收
  35   1          ES=0;                  //禁止串口中断
  36   1          //**************************
  37   1               RE_DE=1;               //使MAX485芯片的数据方向为发送方向
  38   1          while(1)               //死循环,单片机初始化后,将一直运行这个死循环
  39   1          {    
  40   2             if(++a>40000)       //做个延时，间隔发送，具体延时时间不用关注
  41   2                       {
  42   3                           a=0;
  43   3                                b++;           
  44   3                 SBUF=b;         //循环发送0-255至串口
  45   3                 while(!TI);     //一直等到数据发送完毕
  46   3              }    
  47   2          }
  48   1      }
  49          
  50          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     62    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V7.00  TEST66                                                                 09/16/2012 13:19:55 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
